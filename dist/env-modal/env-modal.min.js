+function(t){"use strict";function i(i){var o=this,n=t(e.btn).text(i.text).click(function(){i.click.call(o)});this.$dialog.find(".env-modal-footer").append(n)}function o(o,a){if(o&&o instanceof HTMLElement){var s=this,d=t(o);if(this.options=t.extend(!0,{},n,{title:d.attr("data-title")},a),this.element=o,this.$mask=t(e.body).appendTo("body").hide(),this.$dialog=this.$mask.children(".env-modal-dialog"),this.$dialog.find("div.env-modal-body").append(this.element),this.$dialog.find(".env-modal-title").text(this.options.title),this.$dialog.find("button.env-modal-btn-close").click(function(){s.hide()}),this.options.buttons instanceof Array)for(var l=0;l<this.options.buttons.length;l++)i.call(this,this.options.buttons[l])}}var n={title:"",buttons:[{text:"Cancel",click:function(){this.hide()}},{text:"OK",click:function(){this.hide()}}]},e={body:['<div class="env-modal-mask">','<div class="env-modal-dialog">','<div class="env-modal-content">','<button class="env-modal-btn-close"></button>','<header class="env-modal-header">','<p class="env-modal-title"></p>',"</header>",'<div class="env-modal-body"></div>','<footer class="env-modal-footer"></footer>',"</div>","</div>","</div>"].join(""),btn:"<button></button>"};o.prototype.constructor=o,o.prototype.show=function(){this.$mask.show()},o.prototype.hide=function(){this.$mask.hide()},t.fn.envModal=function(i){if(0===this.length)return this;if(!o.prototype[i])return this.each(function(){var n=t(this).data("envModal");n||(n=new o(this,i),t.data(this,"envModal",n))}),i?this:t(this[0]).data("envModal");var n=o.prototype[i],e=t(this[0]).data("envModal");return e?"function"==typeof n?n.apply(e,Array.prototype.slice.call(arguments,1)):e[i]:void 0}}(jQuery);